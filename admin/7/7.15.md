# 7.15 goobi\_contentServer.xml

In der Datei `goobi_contentServer.xml` werden technische Details zu dem von Goobi verwendeten Content Server angegeben. Diese Konfigurationsdatei kann für Goobi Workflow und Goobi Viewer gleichermaßen verwendet werden. 

Die Datei befindet sich üblicherweise an folgendem Speicherpfad:

```bash
/opt/digiverso/goobi/config/goobi_contentServer.xml
```

Beispielhaft sieht diese Konfigurationsdatei wie folgt aus:

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<config>
	<localConfigPath value="/opt/digiverso/contentServer/config/config_contentServer.xml" />
	<defaultResolution value="600" />
	<maxFileLength value="0" />
	<scaling quality="QUALITY" maxStepSize="50" thumbnailQuality="SPEED"></scaling>
	<imageTypeSettings>
		<type format="png">
			<settings scaleWithScalr="false"></settings>
		</type>
		<type compression="jpeg" colorType="grayscale">
			<settings forceConvertToBuffered="true"></settings>
		</type>
		<type format="jpeg">
			<settings scaleWithScalr="true"></settings>
		</type>
		<type format="tiff" embeddedColorProfile="true">
			<settings scaleWithScalr="false"></settings>
		</type>
		<type format="jpg2000">
			<settings scaleWithScalr="false" allowSubSampling="true"></settings>
		</type>
		<type format="default" colorType="default" compression="default" embeddedColorProfile="both" minSize="0" maxSize="0">
			<settings allowRenderWithJAI="false" scaleWithScalr="true" mergeWithJAI="false" forceConvertToBuffered="false" forceConvertToRGB="false" forwardDirectlyIfPossible="true" preferredImageReader="com.github.jaiimageio"></settings>
		</type>
	</imageTypeSettings>
	<defaultFileNames>
		<pdf value="ContentServer_$datetime" sendAsAttachment="true" />
		<image value="image_$datetime" sendAsAttachment="false" />
	</defaultFileNames>
	<defaultImageConfig defaultFormat="jpeg"></defaultImageConfig>
	<defaultPdfConfig metsFileGroup="PRESENTATION" 
		metsFileUrlRemove="file:\/\/\/opt\/digiverso\/viewer\/media\/" writeAsPdfA="false"
		pagesize="A4"
		imageDpi="0" convertToGrayscale="false" imageScale="1.0" imageCompression="0"/>
	<defaultRepositoryPathImages value="file:///opt/digiverso/viewer/media/" />
	<defaultRepositoryPathPdf value="file:///opt/digiverso/viewer/pdf/" usage="true" />
	<defaultRepositoryPathAlto value="file:///opt/digiverso/viewer/alto/" usage="false" fontFile="font.ttf"/>
	<defaultHighlightColor valueRed="255" valueGreen="255" valueBlue="0" valueAlpha="255" />
	<watermark use="false" scale="true" convertColorSpace="false" scaleToPercent="6"
		configFile="file:///opt/digiverso/viewer/config/config_imageFooter.xml" />
	<errorWaterMark title="Error" titleFontSize="20" 
		messageFontSize="14" messageMaxLineLength="60" />
	<defaultRepositoryPathMets value="" />
	<pdfTitlePage use="true" fontFile="font.ttf"
		templateFolder="file:///opt/digiverso/viewer/config/PDFTitlePage/"
		defaultTemplate="default" />
	<pdfChapterTitlePages use="true" fontFile="font.ttf"
		templateFolder="file:///opt/digiverso/viewer/config/PDFTitlePage/"
		defaultTemplate="default" />
	<singlePdfTitlePage use="false" fontFile="font.ttf"
		templateFolder="file:///opt/digiverso/viewer/config/PDFTitlePage/"
		defaultTemplate="default" />
	<restapi use="false">
		<iiif>
			<attribution></attribution>
			<logo></logo>
			<license></license>
		</iiif>
		<discloseContentLocation>true</discloseContentLocation>
	</restapi>
	<contentCache useCache="false" size="100" useShortFileNames="false" path="" cachePartialImages="false" />
	<thumbnailCache useCache="false" size="100" useShortFileNames="false" path="" />
	<pdfCache useCache="true" size="100" useShortFileNames="false" />
	<memoryUsage memoryUnit="MB" timeoutUnit="s">
		<image>
			<maxParallelRequests>20</maxParallelRequests>		
			<lowMemoryThreshold>200</lowMemoryThreshold>
			<lowMemoryTimeout>8</lowMemoryTimeout>
		</image>
		<pdf>
			<maxParallelRequests>8</maxParallelRequests>		
			<lowMemoryThreshold>500</lowMemoryThreshold>
			<lowMemoryTimeout>10</lowMemoryTimeout>
		</pdf>
		<metsPdf>
			<maxParallelRequests>4</maxParallelRequests>		
			<lowMemoryThreshold>1000</lowMemoryThreshold>
			<lowMemoryTimeout>20</lowMemoryTimeout>
		</metsPdf>
	</memoryUsage>
	<S3>
		<useCustom>true</useCustom>
		<Endpoint>http://192.168.178.124:9000</Endpoint>
		<AccessKeyID>24JW1VB99T8MAU94TBIC</AccessKeyID>
		<SecretAccessKey>OTrwBXGVBacVdXNSI7SKKrX8b+CqwANa5ngLZ4lB</SecretAccessKey>
	</S3>
</config>
```

## Datentypen

In dieser Konfigurationsdatei werden Einstellungen mit unterschiedelichen Datentypen vorgenommen. Zur Übersicht werden alle verwendeten Typen in der folgenden Tabelle kurz erklärt:

| Datentype | Beispiele | Bedeutung |
| --------- | --------- | --------- |
| `boolean` | `false`, `true` | Boolscher Wert: kann wahr oder falsch sein |
| `string` | `TEXT`, `MB` | Text: kann beliebige Zeichen beinhalten |
| `integer` | `0`, `1000` | Ganzzahl: kann alle positiven oder negativen Zahlen (oder 0 beinhalten) |
| `long` | `0`, `1000000000` | Große Ganzzahl: Wie `int`, kann wesentlich größere Zahlen beinhalten |
| `float` | `0`, `1.0` | Gleitkommazahl: Kommazahl mit wenigen Stellen Präzision |
| `double` | `0`, `99.999` | Gleitkommazahl: Kommazahl mit vielen Stellen Präzision |

## Allgemeine Einstellungen und Standardwerte

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `value` | integer | `72` | Dieser Parameter kann im Element `defaultResolution` verwendet werden und gibt die Standardauflösung einer Datei an. |
| `connectionTimeout` | integer | `2000` | Dieser Wert gibt ein Timeout an, das beim Senden von Bilddateien nicht überschritten werden darf. |
| `binaries` | string | `/opt/digiverso/OpenJpeg` | Dieses Element gibt den Pfad zu einer Bibliothek an, mit der Bilddateien verarbeitet werden sollen. |

Zusätzlich können im Element `imageToPdfSizeFactor` beliebige Parameter für Dateitypen gesetzt werden, für die ein spezieller Faktor für die Skalierung von diesem Dateityp zu einer PDF-Datei verwendet werden soll (Siehe Beispiel).

Folgende Parameter können im Element `maxFileLength` verwendet werden:

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `value` | integer | `0` | Dieser Parameter gibt die maximale Dateigröße an. |
| `file` | string | | Dieser Parameter gibt an, wie Dateien heißen dürfen. ??? |

Folgende Parameter können im Element `scaling` verwendet werden:

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `quality` | string | `QUALITY` | Dieser Parameter gibt die Skalierungsqualität an. Es können die Werte `SPEED`, `QUALITY` und `ULTRAQUALITY` verwendet werden. |
| `thumbnailQuality` | string | `SPEED` | Dieser Parameter gibt die Skalierungsqualität für Vorschaubilder an. Es können die Werte `SPEED`, `QUALITY` und `ULTRAQUALITY` verwendet werden. |
| `maxStepSize` | integer | `50` | Dieser Parameter gibt an, wie groß ein Abschnitt bei der Skalierung höchstens sein darf. ??? |

Folgende Parameter können in den Elementen `image` und `pdf` innerhalb des Elementes `defaultFileNames` verwendet werden:

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `value` | string | `image_$timestamp` für image und `ContentServer_$timestamp` für pdf | Dieser Parameter gibt an, wie ein Dateiname gebildet werden soll. Dabei kann `$datetime` als Platzhalter für den aktuellen Zeitpunkt verwendet werden. |
| `sendAsAttachment` | boolean | `false` für image und `true` für pdf | Dieser Parameter gibt an, ob diese Dateitypen als Anhang (zum Beispiel per E-Mail) verschickt werden sollen. |

Folgende Parameter können in den Elementen `defaultRepositoryPathImages`, `defaultRepositoryPathPdf`, `defaultRepositoryPathAlto` und `defaultRepositoryPathMets` verwendet werden:

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `usage` | boolean | `false` | Dieser Parameter kann bei den Elementen `defaultRepositoryPathPdf` und `defaultRepositoryPathAlto` verwendet werden und gibt an, ob dieser Pfad verwendet werden soll. |
| `value` | string | `file:///opt/digiverso/viewer/media/` bzw. `/alto/` | Dieser Parameter kann bei allen Elementen verwendet werden und gibt den Pfad zu dem entsprechenden Ordner an. |
| `fontFile` | string | | Dieser Parameter kann nur bei `defaultRepositoryPathAlto` verwendet werden und gibt den Pfad zu einer Schrift-Datei an. |

Folgende Parameter können im Element `defaultImageConfig` verwendet werden:

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `defaultFormat` | string | `jpeg` | Dieser Parameter gibt den Standard-Bildtyp an. |

Folgende Parameter können im Element `defaultPdfConfig` verwendet werden:

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `pagesize` | string | `A4` | Dieser Parameter gibt die Seitengröße des PDF-Dokumentes an. |
| `imageDpi` | float | `0` | Dieser Parameter gibt die Auflösung (Pixel pro Zoll / Dots Per Inch) an. |
| `imageScale` | float | `1.0` | Dieser Parameter gibt die Bildskalierung an. |
| `imageScaleToBox` | string | | Dieser Parameter gibt an, wie die Bilddatei skaliert werden soll. |
| `imageCompression` | integer | `0` | Dieser Parameter gibt an, wie stark die Bilddatei komprimiert werden soll. |
| `convertToGrayscale` | boolean | `false` | Dieser Parameter gibt an, ob die Bilddatei zu Graustufen konvertiert werden soll. |
| `writeAsPdfA` | boolean | `false` | Dieser Parameter gibt an, ob die Bilddatei vom Typ PDF-A sein soll. |
| `metsFileGroup` | string | `DEFAULT` | Dieser Parameter gibt an, welche Metadatengruppe verwendet werden soll. |
| `metsFileUrlRemove` | string | | ??? |

Folgende Parameter können im Element `defaultHighlightColor` verwendet werden:

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `valueRed` | integer | `255` | Dieser Parameter gibt den Rot-Wert im Bereich von 0 bis 255 an. |
| `valueGreen` | integer | `255` | Dieser Parameter gibt den Grün-Wert im Bereich von 0 bis 255 an. |
| `valueBlue` | integer | `0` | Dieser Parameter gibt den Blau-Wert im Bereich von 0 bis 255 an. |
| `valueAlpha` | integer | `255` | Dieser Parameter gibt den Alpha-Wert (Transparenz) im Bereich von 0 bis 255 an. |

```xml
<defaultResolution
	value="600" />
<connectionTimeout>2000</connectionTimeout>
<openJpeg>
	<binaries>/opt/digiverso/OpenJpeg</binaries>
</openJpeg>
<imageToPdfSizeFactor jpg="1.0" pdf="1.0" />
<maxFileLength
	file=""
	value="0" />
<scaling
	quality="QUALITY"
	thumbnailQuality="SPEED"
	maxStepSize="50" />
<defaultFileNames>
	<image
		value="image_$datetime"
		sendAsAttachment="false" />
	<pdf
		value="ContentServer_$datetime"
		sendAsAttachment="true" />
</defaultFileNames>
<defaultRepositoryPathImages
	value="file:///opt/digiverso/viewer/media/" />
<defaultRepositoryPathPdf
	usage="true"
	value="file:///opt/digiverso/viewer/pdf/" />
<defaultRepositoryPathAlto
	usage="false"
	value="file:///opt/digiverso/viewer/alto/"
	fontFile="font.ttf" />
<defaultRepositoryPathMets
	value="file:///opt/digiverso/viewer/mets/" />
<defaultImageConfig defaultFormat="jpeg" />
<defaultPdfConfig
	pagesize="A4"
	imageDpi="0"
	imageScale="1.0"
	imageScaleToBox=""
	imageCompression="0"
	convertToGrayscale="false"
	writeAsPdfA="false"
	metsFileGroup="PRESENTATION" 
	metsFileUrlRemove="file:\/\/\/opt\/digiverso\/viewer\/media\/" writeAsPdfA="false" />
<defaultHighlightColor
	valueRed="255"
	valueGreen="255"
	valueBlue="0"
	valueAlpha="255" />
```

## Bilddateitypen

Für Dateitypen (`type`) können folgende Parameter verwendet werden:

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `format` | string | `default` | Dieser Parameter gibt den Typ der Bilddatei an. Dieser Typ entspricht der zugehörigen Dateiendung. |
| `minSize` | double | `0` | Dieser Parameter gibt an, wie groß eine Bilddatei mindestens sein muss. |
| `maxSize` | double | `0` | Dieser Parameter gibt an, wie groß eine Bilddatei maximal sein darf. |
| `compression` | string | `default` | Dieser Parameter gibt eine Art der Komprimierung an. |
| `colorType` | string | `default` | Dieser Parameter gibt an, auf welche Art Farbwerte gespeichert werden. |
| `embeddedColorProfil` | string | `both` | Dieser Parameter gibt ein Farbprofil an. |
| `watermark` | boolean | | Dieser Parameter gibt an, ob Wasserzeichen verwendet werden sollen. |

Für Dateitypen-Einstellungen (`settings`) können folgende Parameter verwendet werden:

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `preferredImageReader` | string | | Dieser Parameter gibt eine Java-Klasse an, die Bilddateien dieses Dateityps lesen kann. |
| `preferredImageWriter` | string | | Dieser Parameter gibt eine Java-Klasse an, die Bilddateien dieses Dateityps schreiben kann. |
| `mergeWithJAI` | boolean | `false` | Dieser Parameter gibt an, ob die "Java Advanced Imaging" API (JAI) verwendet werden soll. |
| `allowRenderWithJAI` | bollean | `false` | Dieser Parameter gibt an, ob Bilder mit der "Java Advanced Imaging" API (JAI) gerendert werden sollen. |
| `scaleWithScalr` | boolean | `false` | Dieser Parameter gibt an, ob Bilder mit der "Scalr"-Java-Bibliothek skaliert werden sollen. |
| `forceConvertToBuffered` | boolean | `false` | Dieser Parameter gibt an, ob Bilder bei der Verarbeitung gepuffert werden sollen. |
| `forceConvertToRGB` | boolean | `false` | Dieser Parameter gibt an, ob Bilder bei der Verarbeitung zu dem Farbmodell `RGB` konvertiert werden sollen. |
| `forwardDirectlyIfPossible` | boolean | `true` | Dieser Parameter gibt an, ob Bilder, die nicht mehr weiterverarbeitet werden müssen, direkt aus den Rohdaten übernommen werden sollen. |
| `allowSubSampling` | boolean | `false` | Dieser Parameter gibt an, ob "SubSampling" verwendet werden soll. |

```xml
<imageTypeSettings>
	<type format="png">
		<settings scaleWithScalr="false"></settings>
	</type>
	<type compression="jpeg" colorType="grayscale">
		<settings forceConvertToBuffered="true"></settings>
	</type>
	<type format="jpeg">
		<settings scaleWithScalr="true"></settings>
	</type>
	<type format="tiff" embeddedColorProfile="true">
		<settings scaleWithScalr="false"></settings>
	</type>
	<type format="jpg2000">
		<settings scaleWithScalr="false" allowSubSampling="true"></settings>
	</type>
	<type format="default" colorType="default" compression="default" embeddedColorProfile="both" minSize="0" maxSize="0">
		<settings allowRenderWithJAI="false" scaleWithScalr="true" mergeWithJAI="false" forceConvertToBuffered="false" forceConvertToRGB="false" forwardDirectlyIfPossible="true" preferredImageReader="com.github.jaiimageio"></settings>
	</type>
</imageTypeSettings>
```

## Wasserzeichen

Parameter für das Wasserzeichen (`watermark`):

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `use` | boolean | `false` | Dieser Parameter gibt an, ob Wasserzeichen verwendet werden sollen. |
| `configFile` | string | | Dieser Parameter gibt den Pfad zu einer weiteren Konfigurationsdatei an. |
| `scale` | boolean | `false` | Dieser Parameter gibt an, ob Wasserzeichen skaliert werden sollen. |
| `scaleToPercent` | integer | `0` | Dieser Parameter gibt an, auf welche Größe (in Prozent) das Wasserzeichen skaliert werden soll. |
| `convertColorSpace` | boolean | `true` | Dieser Parameter kann auf `true` gesetzt werden, um automatisch Farbwerte für Wasserzeichen zu konvertieren. |

Parameter für das Fehler-Wasserzeichen (`errorWaterMark`):

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `title` | string | | Dieser Parameter gibt den Titel an, der in einem Fehler-Wasserzeichen stehen soll. |
| `titleFontSize` | integer | | Dieser Parameter gibt an, welche Schriftgröße der Titel eines Fehler-Wasserzeichen haben soll. |
| `messageFontSize` | integer | `14` | Dieser Parameter gibt an, welche Schriftgröße die Fehlermeldung (`message`) des Fehler-Wasserzeichens haben soll. |
| `messageMaxLineLength` | integer | `60` | Dieser Parameter gibt an, wie viele Zeichen maximal in einer Zeile der Fehlermeldung eines Fehler-Wasserzeichens stehen sollen. |

```xml
<watermark
	use="false"
	scale="true"
	convertColorSpace="false"
	scaleToPercent="6"
	configFile="file:///opt/digiverso/viewer/config/config_imageFooter.xml" />
<errorWaterMark
	title="Error"
	titleFontSize="20" 
	messageFontSize="14"
	messageMaxLineLength="60" />
```

## PDF Titelseiten

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `use` | boolean | `false` | Dieser Parameter kann bei allen Arten von Titelseiten verwendet werden und gibt an, ob diese verwendet werden soll. |
| `templateFolder` | string | `/` | Dieser Parameter kann bei allen Arten von Titelseiten verwendendet werden und gibt einen Ordner an, in dem sich eine Vorlagendatei befindet. |
| `defaultTemplate` | string | `default` | Dieser Parameter kann bei allen Arten von Titelseiten verwendet werden und gibt eine Vorlage an, die verwendet werden soll. |
| `configFile` | string | | Dieser Parameter kann nur bei `pdfTitlePage` verwendet werden und gibt den Pfad zu einer Konfigurationsdatei an. |
| `fontFile` | string | | Dieser Parameter kann nur bei `pdfTitlePage` verwendet werden und gibt den Pfad zu einer Schrift-Datei an. |

```xml
<pdfTitlePage
	use="true"
	templateFolder="file:///opt/digiverso/viewer/config/PDFTitlePage/"
	defaultTemplate="default"
	configFile=""
	fontFile="" />
<pdfChapterTitlePages
	use="true"
	templateFolder="file:///opt/digiverso/viewer/config/PDFTitlePage/"
	defaultTemplate="default" />
<singlePdfTitlePage
	use="false"
	templateFolder="file:///opt/digiverso/viewer/config/PDFTitlePage/"
	defaultTemplate="default" />
```

## REST API

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `use` | boolean | `false` | Mit diesem Parameter kann angegeben werden, ob die REST-API verwendet werden soll. |
| `attribution` | string | | Dieser Wert beinhaltet Informationen über eine IIIF-Zuschreibung. |
| `logo` | string | | Dieser Wert beinhaltet Informationen über ein IIIF-Logo. |
| `license` | string | | Dieser Wert beinhaltet Informationen über eine IIIF-Lizenz. |
| `discloseContentLocation` | boolean | `true` | Dieser Wert kann auf `true` gesetzt werden, um freizuschalten, dass der Speicherort von Daten öffentlich einsehbar ist. |

```xml
<restapi use="false">
	<iiif>
		<attribution></attribution>
		<logo></logo>
		<license></license>
	</iiif>
	<discloseContentLocation>true</discloseContentLocation>
</restapi>
```

## Cache-Speicher

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `useCache` | boolean | `false` | Dieser Parameter kann bei allen Cache-Arten verwendet werden und gibt an, ob der jeweilige Cache verwendet werden soll. |
| `size` | long | `100` | Dieser Parameter kann bei allen Cache-Arten verwendet werden und gibt die maximale Anzahl an Elementen im Cache an. |
| `useShortFileNames` | boolean | `false` | Dieser Parameter kann bei allen Cache-Arten verwendet werden und gibt an, ob verkürzte Dateinamen verwendet werden sollen. |
| `path` | string | | Dieser Parameter kann bei `contentCache` und `thumbnailCache` verwendet werden und gibt einen Pfad an, wo der Cache gespeichert sein soll. |
| `cachePartialImages` | boolean | `false` | Dieser Parameter kann nur bei `contentCache` verwendet werden und gibt an, ob Teilbilder im Cache verwendet werden sollen. |

```xml
<contentCache
	useCache="false"
	size="100"
	useShortFileNames="false"
	path=""
	cachePartialImages="false" />
<thumbnailCache
	useCache="false"
	size="100"
	useShortFileNames="false"
	path="" />
<pdfCache
	useCache="true"
	size="100"
	useShortFileNames="false" />
```

## Performanz

Parameter für den allgemeinen Teil:

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `maximalParallelImageRequests` | integer | `0` | Dieser Parameter gibt an, wie viele Anfragen gleichzeitig für Bilddateien gesendet werden dürfen. |
| `maximalParallelPdfRequests` | integer | `0` | Dieser Parameter gibt an, wie viele Anfragen gleichzeitig für PDF-Dateien gesendet werden dürfen. |
| `lowMemoryThreshold` | long | `1000 000 000` | Dieser Parameter gibt an, wie lange die Datenübertragung aller Dateitypen maximal dauern darf. |
| `memoryUnit` | string | `B` | Dieser Parameter gibt die Maßeinheit für die Speichergrößenangaben an. |
| `timeoutUnit` | string | `MILLIS` | Dieser Parameter gibt die Maßeinheit für die Zeitangaben an. |
| `triggerGCAfterAction` | boolean | `true` | Dieser Parameter kann auf `true` gesetzt werden, um regelmäßig das Aufräumen von veralteten Daten (`Garbage Collection`) auszulösen. |

Werte für die einzelnen Datentypen:

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `maxParallelRequests` | integer | `0` | Dieser Wert gibt die maximale Anzahl an parallelen Anfragen an, die gleichzeitig gestellt werden dürfen. |
| `lowMemoryThreshold` | long | `0` | Dieser Wert gibt an, wie viele Daten maximal gleichzeitig gesendet werden sollen. |
| `lowMemoryTimeout` | long | `1000` | Dieser Wert gibt an, wie lange die Datenübertragung maximal dauern darf. |

```xml
<memoryUsage
	maximalParallelImageRequests="0"
	maximalParallelPdfRequests="0"
	lowMemoryShreshold="1000000000"
	memoryUnit="MB"
	timeoutUnit="s"
	triggerGCAfterAction="true">
	<image>
		<maxParallelRequests>20</maxParallelRequests>		
		<lowMemoryThreshold>200</lowMemoryThreshold>
		<lowMemoryTimeout>8</lowMemoryTimeout>
	</image>
	<pdf>
		<maxParallelRequests>8</maxParallelRequests>		
		<lowMemoryThreshold>500</lowMemoryThreshold>
		<lowMemoryTimeout>10</lowMemoryTimeout>
	</pdf>
	<metsPdf>
		<maxParallelRequests>4</maxParallelRequests>		
		<lowMemoryThreshold>1000</lowMemoryThreshold>
		<lowMemoryTimeout>20</lowMemoryTimeout>
	</metsPdf>
</memoryUsage>
```

## S3-Speicher

Mit dem Element `S3` kann optional ein S3-Cloud-Speicher eingebunden werden.

| Eigenschaft | Typ | Standardwert | Beschreibung |
| ----------- | --- | ------------ | ------------ |
| `useCustom` | boolean | | Mit diesem Wert kann festgelegt werden, ob ein S3-Speicher verwendet werden soll. |
| `Endpoint` | string | | Dieser Wert gibt die Adresse (URL) des S3-Servers an. Gegebenenfalls muss auch das Protokoll (`http` oder `https`) und die Portnummer angegeben werden. |
| `AccessKeyID` | string | | Dieser Wert gibt die ID des Accounts am S3-Service an. |
| `SecretAccessKey` | string | | Dieser Wert gibt den Schlüssel / Passwort des S3-Accounts an. |

```xml
<S3>
	<useCustom>true</useCustom>
	<Endpoint>http://192.168.178.124:9000</Endpoint>
	<AccessKeyID>24JW1VB99T8MAU94TBIC</AccessKeyID>
	<SecretAccessKey>OTrwBXGVBacVdXNSI7SKKrX8b+CqwANa5ngLZ4lB</SecretAccessKey>
</S3>
```

